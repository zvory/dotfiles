[
    {
        "clean": [
            "~"
        ]
    },
    {
        "shell": [
            ["git submodule update --init --recursive", "Installing submodules"]
        ]
    },
    {
        "link": {
            "~/.aliases": "aliases",
            "~/.vimrc": "vimrc",
            "~/.gitconfig": {
                "path": "gitconfig",
                "force": true
            },
            "~/.gitconfig-datadog": "gitconfig-datadog",
            "~/.claude/CLAUDE.md": "claude/CLAUDE.md",
            "~/.claude/settings.local.json": "claude/settings.local.json",
            "~/.claude/policy-limits.json": "claude/policy-limits.json",
            "~/.claude/commands": "claude/commands"
        }
    },
    {
        "shell": [
            ["sh -c \"$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"", "Installing oh-my-zsh"]
        ]
    },
    {
        "shell": [
            ["grep -q 'source ~/.aliases' ~/.zshrc || echo '\\nsource ~/.aliases' >> ~/.zshrc", "Adding source ~/.aliases to ~/.zshrc"]
        ]
    },
    {
        "shell": [
            ["command -v fzf || (git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf && ~/.fzf/install --key-bindings --completion --no-update-rc --no-bash --no-fish)", "Installing fzf"]
        ]
    },
    {
        "shell": [
            ["grep -q 'source ~/.fzf.zsh' ~/.zshrc || sed -i '/source ~\\/\\.aliases/i [ -f ~/.fzf.zsh ] && source ~/.fzf.zsh\\n' ~/.zshrc", "Adding fzf source to ~/.zshrc"]
        ]
    },
    {
        "shell": [
            ["sed -i 's/^plugins=(git)$/plugins=(git colored-man-pages z zsh-interactive-cd)/' ~/.zshrc", "Enabling oh-my-zsh plugins"]
        ]
    }
]
